import{capitalizeFirstLetter}from"./helpers.js";const groupSelect=document.getElementById("group"),track=document.getElementById("track");document.addEventListener("DOMContentLoaded",(()=>{fetch("functions/Groups/get_groups.php").then((e=>e.json())).then((e=>{e.data&&e.data.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=capitalizeFirstLetter(e.name),groupSelect.append(t)}))})).catch((e=>console.error("Error fetching groups:",e))),fetch("functions/Tracks/get_tracks.php").then((e=>e.json())).then((e=>{track.innerHTML="",e.data&&e.data.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.name.toUpperCase(),track.appendChild(t)}))})).catch((e=>console.error("Error fetching groups:",e)))})),groupSelect.oninput=function(){const e=this.value;fetch(`functions/Lectures/get_group_track.php?group_id=${e}`).then((e=>e.json())).then((e=>{if(e.data){document.querySelector(`#track option[value="${e.data.track_id}"]`).selected=!0}else document.querySelector('#track option[value="1"]').selected=!0})).catch((e=>console.error("Error fetching tracks:",e)))};