const monthSelect=document.getElementById("month-select");async function getMonths(){const t=getQueryString("month")+" - "+getQueryString("year");try{const e=await fetch("functions/Bonus/get_months.php"),n=await e.json();monthSelect.innerHTML="<option value=''>Select a Month</option>",Array.isArray(n.data)&&n.data.length>1?n.data.forEach((e=>{const n=document.createElement("option");n.value=`${e.month.toLowerCase()} - ${e.year}`,n.textContent=`${e.month} - ${e.year}`,n.value==t&&(n.selected=!0),monthSelect.appendChild(n)})):monthSelect.innerHTML+="<option value=''>No Bonus available yet</option>"}catch(t){console.error("Error fetching dates:",t),monthSelect.innerHTML="<option value=''>Error loading dates</option>"}}function setQueryString(t){const e=new URL(window.location);Object.entries(t).forEach((([t,n])=>{n?e.searchParams.set(t,n):e.searchParams.delete(t)})),window.location.href=e.toString()}function getQueryString(t){return new URLSearchParams(window.location.search).get(t)}document.addEventListener("DOMContentLoaded",(async function(){await getMonths()})),monthSelect.addEventListener("change",(function(t){if(this.value){const t=this.value.split(" - ");setQueryString({month:t[0].toLowerCase(),year:t[1].toLowerCase()})}else setQueryString({month:null,year:null}),monthSelect.innerHTML="<option>Select a Month</option>"}));